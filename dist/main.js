(()=>{"use strict";var e={d:(t,n)=>{for(var d in n)e.o(n,d)&&!e.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:n[d]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t,n,d){return{getTitle:()=>e,getDueDate:()=>t,getPriority:()=>n,getCheckedState:()=>d,setTitle:t=>{e=t},setDueDate:e=>{t=e},togglePriority:()=>{"3"===n?n="2":"2"===n?n="1":"1"===n&&(n="3")},toggleCheckedState:()=>{d=!d}}}function n(e,t){const n=(e,n)=>{-1===n?t.push(e):t.splice(n,0,e)},d=e=>t.splice(e,1)[0];return{getTitle:()=>e,getChildren:()=>t,setTitle:t=>{e=t},addChild:n,removeChild:d,shiftChild:(e,t)=>{n(d(e),t)}}}e.d({},{Z:()=>c});const d=function(){const{getTitle:e,getChildren:t,addChild:d,removeChild:i,shiftChild:c}=n("Trash",[]);return{getTitle:e,getChildren:t,addChild:d,removeChild:i,shiftChild:c,empty:()=>{children=[]}}}(),i=function(){const e=()=>{(e=>{const t=document.getElementById("todo-container");if(t.textContent="",!e.hasOwnProperty("empty")){const e=document.createElement("li");e.classList.add("new-todo-button"),e.id="new-item-container";const n=document.createElement("ion-icon");n.setAttribute("name","add-circle"),n.classList.add("checkbox"),e.appendChild(n);const d=document.createElement("span");d.classList.add("todo-title","new-item-text"),d.textContent="New item",e.appendChild(d),t.appendChild(e),e.addEventListener("click",u)}e.getChildren().forEach(((e,n)=>{const d=document.createElement("li");d.dataset.index=n;const i=document.createElement("ion-icon");i.setAttribute("name",e.getCheckedState()?"checkbox-outline":"square-outline"),i.classList.add("checkbox"),i.dataset.index=n,d.appendChild(i);const c=document.createElement("span");c.classList.add("todo-title"),c.textContent=e.getTitle(),c.dataset.index=n,d.appendChild(c);const l=document.createElement("span");l.classList.add("pill-badge","due-date"),l.textContent=e.getDueDate(),l.dataset.index=n,d.appendChild(l);const u=document.createElement("span");u.classList.add("pill-badge","priority","priority-"+e.getPriority()),u.dataset.index=n,d.appendChild(u);const m=document.createElement("ion-icon");m.setAttribute("name","trash"),m.classList.add("todo-remove"),m.dataset.index=n,d.appendChild(m),t.appendChild(d),i.addEventListener("click",o),c.addEventListener("click",a),l.addEventListener("click",a),u.addEventListener("click",r),m.addEventListener("click",s)}))})(c.getActiveProject())},n=()=>{((e,t)=>{const n=document.getElementById("project-container");n.textContent="",e.forEach(((e,d)=>{const c=document.createElement("li");if(c.dataset.index=d,c.textContent=e.getTitle(),e.hasOwnProperty("empty")){c.id="trash";const e=document.createElement("ion-icon");e.setAttribute("name","trash"),e.dataset.index=d,c.appendChild(e)}d==t&&c.classList.add("active-project"),c.addEventListener("click",i),n.appendChild(c)}))})(c.getProjectArray(),c.getActiveProjectIndex()),e()},d=()=>{const n=document.querySelector(".todo-text-edit");if(n){const d=n.value;let i=n.parentNode;if("new-item-container"===i.parentNode.id)i=n.parentNode.parentNode,c.getActiveProject().addChild(t(d,"Anytime","3",!1),0),e();else{const e=i.dataset.index,t=c.getActiveProject().getChildren()[e];i.classList.contains("todo-title")?(t.setTitle(d),i.textContent=t.getTitle()):i.classList.contains("due-date")&&(t.setDueDate(d),i.textContent=t.getDueDate()),i.addEventListener("click",a)}document.removeEventListener("click",l)}},i=e=>{d();const t=e.target.dataset.index;c.setActiveProject(t),n()},o=e=>{const t=e.target.dataset.index,n=c.getActiveProject().getChildren()[t];n.toggleCheckedState(),document.querySelector(`.checkbox[data-index="${t}"]`).setAttribute("name",n.getCheckedState()?"checkbox-outline":"square-outline")},a=e=>{d();const t=e.target.dataset.index,n=c.getActiveProject().getChildren()[t],i=e.target;i.textContent="";const o=document.createElement("input");o.type="text",o.classList.add("todo-text-edit"),i.classList.contains("todo-title")?(o.classList.add("todo-title-edit"),o.value=n.getTitle()):i.classList.contains("due-date")&&(o.classList.add("due-date-edit"),o.value=n.getDueDate()),i.appendChild(o),o.focus(),i.removeEventListener("click",a),document.addEventListener("click",l)},r=e=>{const t=e.target.dataset.index,n=c.getActiveProject().getChildren()[t];n.togglePriority();const d=document.querySelector(`.priority[data-index="${t}"]`);d.className="",d.classList.add("pill-badge","priority","priority-"+n.getPriority())},s=t=>{const n=t.target.dataset.index,d=c.getActiveProject().removeChild(n);c.getActiveProject().hasOwnProperty("empty")||c.getProjectByIndex(-1).addChild(d,-1),e()},l=e=>{e.target.classList.contains("escape")&&d()},u=e=>{d();const t=document.querySelector("li#new-item-container");t.className="";const n=document.querySelector("li#new-item-container span");n.textContent="",n.className="todo-title";const i=document.createElement("input");i.type="text",i.classList.add("todo-text-edit","todo-title-edit"),i.value="New item",n.appendChild(i),i.focus(),t.removeEventListener("click",u),document.querySelector("li#new-item-container ion-icon").addEventListener("click",d)};return{renderAll:n,renderTodos:e,handleEnter:e=>{13===e.keyCode&&"input"===document.activeElement.tagName.toLowerCase()&&d()}}}(),c=(()=>{const e=[];e.push(n("Todos",[])),e.push(d),e[0].addChild(t("Walk the dog","March 17","3",!1),-1),e[0].addChild(t("Plant a tree","April 3","2",!1),-1),e[0].addChild(t("End world hunger","Anytime","1",!1),-1);let i=0;return{getActiveProjectIndex:()=>i,setActiveProject:e=>{i=e},getActiveProject:()=>e[i],getProjectByIndex:t=>t>=0?e[t]:-1==t?e[e.length-1]:void 0,getProjectArray:()=>e}})();document.addEventListener("DOMContentLoaded",(function(){i.renderAll(),document.addEventListener("keyup",i.handleEnter)}))})();